<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ูุญุงูุงุฉ ุงูุดู ุงููุฒุฏูุฌ โ ูุญุณููุฉ</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body class="theme-dark">
  <header>
    <h1>ูุญุงูุงุฉ ุงูุดูู ุงููุฒุฏูุฌ โ ูุณุฎุฉ ูุญุณููุฉ</h1>
    <div class="spacer"></div>
    <button id="themeBtn" title="ุชุจุฏูู ุงููุถุน: ููุงุฑู/ูููู">๐/โ๏ธ</button>
  </header>

  <main>
    <section class="panel">
      <div class="row wrap">
        <label>ุงููุถุน ุงูููุฒูุงุฆู:</label>
        <label class="chip"><input type="radio" name="regime" value="fraunhofer" checked> ูุฑูููููุฑ (ุจุนูุฏ)</label>
        <label class="chip"><input type="radio" name="regime" value="fresnel"> ูุฑููู (ูุฑูุจ/ุฏููู)</label>
        <div class="sep"></div>
        <label>ุฃุณููุจ ุงูุนุฑุถ:</label>
        <label class="chip"><input type="radio" name="mode" value="wave" checked> ููุฌู</label>
        <label class="chip"><input type="radio" name="mode" value="particles"> ุฌุณููุงุช ูุชุชุงุจุนุฉ</label>
        <label class="chip"><input id="spectrum" type="checkbox"> ุทูู ุฃุจูุถ (RGB)</label>
      </div>

      <div class="grid">
        <div class="control">
          <label for="lambda">ุงูุทูู ุงูููุฌู ฮป (ูุงูู ูุชุฑ)</label>
          <input id="lambda" type="range" min="380" max="700" step="1" value="550">
          <div class="val"><span id="lambdaVal">550</span> nm</div>
        </div>

        <div class="control">
          <label for="d">ุงููุณุงูุฉ ุจูู ุงูุดููู d (ยตm)</label>
          <input id="d" type="range" min="5" max="500" step="1" value="100">
          <div class="val"><span id="dVal">100</span> ฮผm</div>
        </div>

        <div class="control">
          <label for="a">ุนุฑุถ ุงูุดู a (ยตm)</label>
          <input id="a" type="range" min="2" max="200" step="1" value="20">
          <div class="val"><span id="aVal">20</span> ฮผm</div>
        </div>

        <div class="control">
          <label for="L">ุจูุนุฏ ุงูุดุงุดุฉ L (ูุชุฑ)</label>
          <input id="L" type="range" min="0.1" max="5" step="0.01" value="1">
          <div class="val"><span id="LVal">1.00</span> m</div>
        </div>

        <div class="control">
          <label for="coh">ุนุงูู ุงูุชูุงุณู ฮณ (0โ1)</label>
          <input id="coh" type="range" min="0" max="1" step="0.01" value="1">
          <div class="val"><span id="cohVal">1.00</span></div>
        </div>

        <div class="control">
          <label for="rate">ุนุฏุฏ ุงูุฌุณููุงุช/ุงูุซุงููุฉ</label>
          <input id="rate" type="range" min="10" max="8000" step="10" value="800">
          <div class="val"><span id="rateVal">800</span> /s</div>
        </div>

        <div class="control">
          <label for="quality">ุฌูุฏุฉ ูุฑููู (ูููุงุท/ุดู)</label>
          <input id="quality" type="range" min="32" max="512" step="32" value="160">
          <div class="val"><span id="qualityVal">160</span> ุนููุงุช</div>
        </div>
      </div>

      <div class="row wrap">
        <label class="chip"><input id="slit1" type="checkbox" checked> ุงูุดู ุงูุฃูุณุฑ ูุนูุงู</label>
        <label class="chip"><input id="slit2" type="checkbox" checked> ุงูุดู ุงูุฃููู ูุนูุงู</label>
        <label class="chip"><input id="normalize" type="checkbox" checked> ุชุทุจูุน ุงูุดุฏุฉ</label>
        <label class="chip"><input id="showCurve" type="checkbox" checked> ุฅุธูุงุฑ ููุญูู ุงูุดุฏุฉ</label>
        <label class="chip"><input id="autoSpan" type="checkbox" checked> ุงุญุชูุงุก ุชููุงุฆู ูููุฌุงู ุนูู ุงูุดุงุดุฉ</label>
      </div>

      <div class="row wrap">
        <span class="muted">ูุณุจูุฉ ุงูุฅุนุฏุงุฏ:</span>
        <button class="pill" data-preset="red">ููุฒุฑ ุฃุญูุฑ</button>
        <button class="pill" data-preset="green">ููุฒุฑ ุฃุฎุถุฑ</button>
        <button class="pill" data-preset="blue">ููุฒุฑ ุฃุฒุฑู</button>
        <button class="pill" data-preset="electron">ุฅููุชุฑููุงุช</button>
        <div class="spacer"></div>
        <div class="tiny">fps: <span id="fps">0</span></div>
      </div>

      <div class="row wrap">
        <button id="toggleRun" class="strong">โฏ ุชุดุบูู/ุฅููุงู ุงูุฌุณููุงุช</button>
        <button id="step">โญ ุฎุทูุฉ ูุงุญุฏุฉ</button>
        <button id="resetBtn">โบ ุชุตููุฑ ุงูุดุงุดุฉ</button>
        <button id="snapBtn">๐ท ุญูุธ ุตูุฑุฉ</button>
        <button id="csvBtn">๐ ุชุตุฏูุฑ CSV</button>
        <span class="tiny muted">ุงุฎุชุตุงุฑุงุช: Space/R/S/C/T</span>
      </div>
    </section>

    <section class="stage">
      <div class="col">
        <h3>ุงูููุธุฑ ุงูุฌุงูุจู (ุดููู โ ุดุงุดุฉ)</h3>
        <canvas id="sideView" width="420" height="320"></canvas>
      </div>

      <div class="col">
        <h3>ุดุงุดุฉ ุงูุฑุตุฏ (ุดุฏุฉ/ููุงุท)</h3>
        <canvas id="screen" width="900" height="360"></canvas>
      </div>
    </section>
  </main>

  <footer>
    <small class="muted">
      ูุฑูููููุฑ: \(I \propto \mathrm{sinc}^2(\beta)\,[1+\gamma\cos(\Delta\phi)]\), 
      ูุฑููู: \(I \propto |E_1+E_2|^2\) ูุน \(E_i=\int_{\text{ุดู}_i}\frac{e^{ikr}}{r}dy\).
    </small>
  </footer>

  <script src="app.js"></script>
</body>
</html>
